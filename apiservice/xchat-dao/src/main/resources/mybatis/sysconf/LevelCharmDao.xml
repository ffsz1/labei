<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.juxiao.xchat.dao.sysconf.LevelCharmDao">

    <select id="getCharmLevel" parameterType="long" resultType="com.juxiao.xchat.dao.sysconf.dto.LevelCharmDTO">
        <![CDATA[
        SELECT
          `id` AS `id`,
          `level_seq` AS `levelSeq`,
          `level_name` AS `levelName`,
          `level_grp` AS `levelGrp`,
          `amount` AS `amount`,
          `need_min` AS `needMin`,
          `need_max` AS `needMax`,
          `status` AS `status`,
          `broadcast` AS `broadcast`,
          `interaction` AS `interaction`,
          `create_time` AS `createTime`
        FROM
          `level_charm`
        WHERE
           `need_min` <= #{experience}
        AND
          `need_max` > #{experience}
        AND
          `status` = 1
        ]]>
    </select>

    <select id="getLevelByName" parameterType="string" resultType="com.juxiao.xchat.dao.sysconf.dto.LevelCharmDTO">
        <![CDATA[
        SELECT
          `id` AS `id`,
          `level_seq` AS `levelSeq`,
          `level_name` AS `levelName`,
          `level_grp` AS `levelGrp`,
          `amount` AS `amount`,
          `need_min` AS `needMin`,
          `need_max` AS `needMax`,
          `status` AS `status`,
          `broadcast` AS `broadcast`,
          `interaction` AS `interaction`,
          `create_time` AS `createTime`
        FROM
          `level_charm`
        WHERE
          `status` = 1
        AND
          `level_name` = #{levelName}
        ]]>
    </select>
</mapper>