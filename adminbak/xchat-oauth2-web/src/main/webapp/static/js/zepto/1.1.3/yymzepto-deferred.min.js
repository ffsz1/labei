/*! zepto - v1.1.3 */(function(n){function e(t){var r=[["resolve","done",n.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",n.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",n.Callbacks({memory:1})]],i="pending",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var t=arguments;return e(function(e){n.each(r,function(r,i){var u=n.isFunction(t[r])&&t[r];s[i[1]](function(){var t=u&&u.apply(this,arguments);if(t&&n.isFunction(t.promise))t.promise().done(e.resolve).fail(e.reject).progress(e.notify);else{var r=this===o?e.promise():this,s=u?[t]:arguments;e[i[0]+"With"](r,s)}})}),t=null}).promise()},promise:function(e){return null!=e?n.extend(e,o):o}},s={};return n.each(r,function(n,e){var t=e[2],u=e[3];o[e[1]]=t.add,u&&t.add(function(){i=u},r[1^n][2].disable,r[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?o:this,arguments),this},s[e[0]+"With"]=t.fireWith}),o.promise(s),t&&t.call(s,s),s}var t=Array.prototype.slice;n.when=function(r){var i,o,s,u=t.call(arguments),a=u.length,c=0,f=1!==a||r&&n.isFunction(r.promise)?a:0,l=1===f?r:e(),h=function(n,e,r){return function(o){e[n]=this,r[n]=arguments.length>1?t.call(arguments):o,r===i?l.notifyWith(e,r):--f||l.resolveWith(e,r)}};if(a>1)for(i=Array(a),o=Array(a),s=Array(a);a>c;++c)u[c]&&n.isFunction(u[c].promise)?u[c].promise().done(h(c,s,u)).fail(l.reject).progress(h(c,o,i)):--f;return f||l.resolveWith(s,u),l.promise()},n.Deferred=e})(Zepto);
